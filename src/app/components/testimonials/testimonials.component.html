<section id="testimonials" class="testimonials-section">
  <div class="container" data-aos="fade-up">
    <h1 class="section-title">Testimonials</h1>

    <div class="testimonials-carousel">
      @if (testimonials.length > 0) {
      <div class="testimonial-card">
        <div class="quote-icon">
          <i class="ph ph-quotes-fill"></i>
        </div>

        <p class="testimonial-content">{{ testimonials[currentIndex].content }}</p>

        <div class="testimonial-author">
          <img [src]="testimonials[currentIndex].avatarUrl || '/user-placeholder.jpg'"
            [alt]="testimonials[currentIndex].author" class="author-avatar">

          <div class="author-info">
            <span class="author-name">{{ testimonials[currentIndex].author }}</span>
            <span class="author-position">{{ testimonials[currentIndex].position }}</span>
          </div>
        </div>
      </div>

      <div class="carousel-controls">
        <button class="control-btn prev" (click)="prevTestimonial()">
          <i class="ph ph-caret-left"></i>
        </button>

        <div class="carousel-dots">
          @for (testimonial of testimonials; track $index) {
          <button class="dot {{ $index === currentIndex ? 'active' : '' }}" (click)="goToTestimonial($index)">
          </button>
          }
        </div>

        <button class="control-btn next" (click)="nextTestimonial()">
          <i class="ph ph-caret-right"></i>
        </button>
      </div>
      }
    </div>
  </div>
</section>