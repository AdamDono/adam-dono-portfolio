<section id="testimonials" class="testimonials-section">
  <div class="container">
    <h2 class="section-title">What Clients Say</h2>
    <p class="section-subtitle">Testimonials from satisfied clients and collaborators</p>
    
    <div class="testimonials-carousel">
      @if (testimonials.length > 0) {
        <div class="testimonial-card" [@slideAnimation]>
          <div class="quote-icon">
            <i class="fas fa-quote-left"></i>
          </div>
          
          <p class="testimonial-content">{{ testimonials[currentIndex].content }}</p>
          
          <div class="testimonial-author">
            @if (testimonials[currentIndex].avatarUrl) {
              <img [src]="testimonials[currentIndex].avatarUrl" 
                   [alt]="testimonials[currentIndex].author"
                   class="author-avatar">
            } @else {
              <div class="author-avatar-placeholder">
                <i class="fas fa-user"></i>
              </div>
            }
            
            <div class="author-info">
              <h4 class="author-name">{{ testimonials[currentIndex].author }}</h4>
              <p class="author-position">{{ testimonials[currentIndex].position }}</p>
            </div>
          </div>
        </div>
        
        <div class="carousel-controls">
          <button class="control-btn prev" (click)="prevTestimonial()" aria-label="Previous testimonial">
            <i class="fas fa-chevron-left"></i>
          </button>
          
          <div class="carousel-dots">
            @for (testimonial of testimonials; track testimonial.id; let i = $index) {
              <button 
                class="dot {{ i === currentIndex ? 'active' : '' }}"
                (click)="goToTestimonial(i)"
                [attr.aria-label]="'Go to testimonial ' + (i + 1)">
              </button>
            }
          </div>
          
          <button class="control-btn next" (click)="nextTestimonial()" aria-label="Next testimonial">
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
      }
    </div>
  </div>
</section>
